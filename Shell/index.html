<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell | 二十多岁的老王的个人网站</title>
    <meta name="generator" content="VuePress 1.8.1">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/blog/assets/css/0.styles.a02c9b7c.css" as="style"><link rel="preload" href="/blog/assets/js/app.e43c8e17.js" as="script"><link rel="preload" href="/blog/assets/js/2.97f788a2.js" as="script"><link rel="preload" href="/blog/assets/js/98.57300d5f.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.10e55530.js"><link rel="prefetch" href="/blog/assets/js/100.2e76e2f2.js"><link rel="prefetch" href="/blog/assets/js/101.16571b2b.js"><link rel="prefetch" href="/blog/assets/js/102.51e3ca33.js"><link rel="prefetch" href="/blog/assets/js/103.d08163f1.js"><link rel="prefetch" href="/blog/assets/js/104.e7631e9a.js"><link rel="prefetch" href="/blog/assets/js/11.f9d2a5ab.js"><link rel="prefetch" href="/blog/assets/js/12.b58661e2.js"><link rel="prefetch" href="/blog/assets/js/13.9c3eb1fd.js"><link rel="prefetch" href="/blog/assets/js/14.b7dcbd23.js"><link rel="prefetch" href="/blog/assets/js/15.95076cdf.js"><link rel="prefetch" href="/blog/assets/js/16.174dcc27.js"><link rel="prefetch" href="/blog/assets/js/17.dad4f542.js"><link rel="prefetch" href="/blog/assets/js/18.acf5586e.js"><link rel="prefetch" href="/blog/assets/js/19.873b05f3.js"><link rel="prefetch" href="/blog/assets/js/20.ffa71c87.js"><link rel="prefetch" href="/blog/assets/js/21.ec10b73c.js"><link rel="prefetch" href="/blog/assets/js/22.cd79de03.js"><link rel="prefetch" href="/blog/assets/js/23.55a5db80.js"><link rel="prefetch" href="/blog/assets/js/24.cb9cee51.js"><link rel="prefetch" href="/blog/assets/js/25.580240cb.js"><link rel="prefetch" href="/blog/assets/js/26.60d72d19.js"><link rel="prefetch" href="/blog/assets/js/27.66520803.js"><link rel="prefetch" href="/blog/assets/js/28.f251b0a7.js"><link rel="prefetch" href="/blog/assets/js/29.4046e4ba.js"><link rel="prefetch" href="/blog/assets/js/3.62a1a081.js"><link rel="prefetch" href="/blog/assets/js/30.20818a07.js"><link rel="prefetch" href="/blog/assets/js/31.ee09ca66.js"><link rel="prefetch" href="/blog/assets/js/32.696a0aa1.js"><link rel="prefetch" href="/blog/assets/js/33.55db0bc5.js"><link rel="prefetch" href="/blog/assets/js/34.b548d5c7.js"><link rel="prefetch" href="/blog/assets/js/35.282ba8f8.js"><link rel="prefetch" href="/blog/assets/js/36.7ed61cb1.js"><link rel="prefetch" href="/blog/assets/js/37.e46d8879.js"><link rel="prefetch" href="/blog/assets/js/38.1b4359fc.js"><link rel="prefetch" href="/blog/assets/js/39.fb519c2c.js"><link rel="prefetch" href="/blog/assets/js/4.87e5c788.js"><link rel="prefetch" href="/blog/assets/js/40.fffab62f.js"><link rel="prefetch" href="/blog/assets/js/41.1094c293.js"><link rel="prefetch" href="/blog/assets/js/42.0e6e3fc6.js"><link rel="prefetch" href="/blog/assets/js/43.c67ba106.js"><link rel="prefetch" href="/blog/assets/js/44.c19890cb.js"><link rel="prefetch" href="/blog/assets/js/45.2150b3e8.js"><link rel="prefetch" href="/blog/assets/js/46.c4108043.js"><link rel="prefetch" href="/blog/assets/js/47.c61234b8.js"><link rel="prefetch" href="/blog/assets/js/48.5de086fb.js"><link rel="prefetch" href="/blog/assets/js/49.ea86c327.js"><link rel="prefetch" href="/blog/assets/js/5.b4274d5e.js"><link rel="prefetch" href="/blog/assets/js/50.418dda5d.js"><link rel="prefetch" href="/blog/assets/js/51.7c6f7509.js"><link rel="prefetch" href="/blog/assets/js/52.70361db4.js"><link rel="prefetch" href="/blog/assets/js/53.83b2ea9f.js"><link rel="prefetch" href="/blog/assets/js/54.c62e4bfb.js"><link rel="prefetch" href="/blog/assets/js/55.9d3f54c8.js"><link rel="prefetch" href="/blog/assets/js/56.6fde2b82.js"><link rel="prefetch" href="/blog/assets/js/57.ab83620a.js"><link rel="prefetch" href="/blog/assets/js/58.cfd13d47.js"><link rel="prefetch" href="/blog/assets/js/59.32dfd85e.js"><link rel="prefetch" href="/blog/assets/js/6.3b3dd9f8.js"><link rel="prefetch" href="/blog/assets/js/60.3e41a90d.js"><link rel="prefetch" href="/blog/assets/js/61.d0263107.js"><link rel="prefetch" href="/blog/assets/js/62.416ce2ac.js"><link rel="prefetch" href="/blog/assets/js/63.1412190b.js"><link rel="prefetch" href="/blog/assets/js/64.3bde4fd9.js"><link rel="prefetch" href="/blog/assets/js/65.429c9271.js"><link rel="prefetch" href="/blog/assets/js/66.626627be.js"><link rel="prefetch" href="/blog/assets/js/67.80b03ee4.js"><link rel="prefetch" href="/blog/assets/js/68.f75fe680.js"><link rel="prefetch" href="/blog/assets/js/69.22122e09.js"><link rel="prefetch" href="/blog/assets/js/7.777dd71c.js"><link rel="prefetch" href="/blog/assets/js/70.30f81efd.js"><link rel="prefetch" href="/blog/assets/js/71.afbaf8e3.js"><link rel="prefetch" href="/blog/assets/js/72.4d10f9cd.js"><link rel="prefetch" href="/blog/assets/js/73.4d6589b3.js"><link rel="prefetch" href="/blog/assets/js/74.7468a9b9.js"><link rel="prefetch" href="/blog/assets/js/75.c58f65fd.js"><link rel="prefetch" href="/blog/assets/js/76.d17e3ec0.js"><link rel="prefetch" href="/blog/assets/js/77.5acdb46d.js"><link rel="prefetch" href="/blog/assets/js/78.67aef4e0.js"><link rel="prefetch" href="/blog/assets/js/79.6508c283.js"><link rel="prefetch" href="/blog/assets/js/8.8e7040f4.js"><link rel="prefetch" href="/blog/assets/js/80.a74ecc6c.js"><link rel="prefetch" href="/blog/assets/js/81.61e0493a.js"><link rel="prefetch" href="/blog/assets/js/82.55fbe3af.js"><link rel="prefetch" href="/blog/assets/js/83.80683139.js"><link rel="prefetch" href="/blog/assets/js/84.d38e2b1a.js"><link rel="prefetch" href="/blog/assets/js/85.d3cc7608.js"><link rel="prefetch" href="/blog/assets/js/86.8958b6e2.js"><link rel="prefetch" href="/blog/assets/js/87.a5ed33f7.js"><link rel="prefetch" href="/blog/assets/js/88.4a72e9da.js"><link rel="prefetch" href="/blog/assets/js/89.f0776802.js"><link rel="prefetch" href="/blog/assets/js/9.8b26ef8a.js"><link rel="prefetch" href="/blog/assets/js/90.c57332a7.js"><link rel="prefetch" href="/blog/assets/js/91.89a85bc3.js"><link rel="prefetch" href="/blog/assets/js/92.e103a564.js"><link rel="prefetch" href="/blog/assets/js/93.d5051686.js"><link rel="prefetch" href="/blog/assets/js/94.fb97759b.js"><link rel="prefetch" href="/blog/assets/js/95.bc9699c2.js"><link rel="prefetch" href="/blog/assets/js/96.cb514286.js"><link rel="prefetch" href="/blog/assets/js/97.680959f9.js"><link rel="prefetch" href="/blog/assets/js/99.78fab347.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.a02c9b7c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">二十多岁的老王的个人网站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Code Languages" class="dropdown-title"><span class="title">Code Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Code Languages" class="mobile-dropdown-title"><span class="title">Code Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          FrontEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/blog/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/blog/language/Css3/" class="nav-link">
  Css3
</a></li><li class="dropdown-subitem"><a href="/blog/language/Html5/" class="nav-link">
  Html5
</a></li></ul></li><li class="dropdown-item"><h4>
          BackEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/blog/Golang/" class="nav-link">
  Golang
</a></li><li class="dropdown-subitem"><a href="/blog/Java/" class="nav-link">
  Java
</a></li></ul></li><li class="dropdown-item"><h4>
          Others
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Vim/" class="nav-link">
  Vim
</a></li><li class="dropdown-subitem"><a href="/blog/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/blog/MarkDown/" class="nav-link">
  MarkDown
</a></li><li class="dropdown-subitem"><a href="/blog/Shell/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Shell
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Personal Style" class="dropdown-title"><span class="title">Personal Style</span> <span class="arrow down"></span></button> <button type="button" aria-label="Personal Style" class="mobile-dropdown-title"><span class="title">Personal Style</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          About Code Quality
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Code/BadCodes/" class="nav-link">
  Bad Codes
</a></li><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Code/NiceCodes/" class="nav-link">
  Nice Codes
</a></li><li class="dropdown-subitem"><a href="/blog/PersonalStyle/CodingInfo/" class="nav-link">
  Coding Info
</a></li></ul></li><li class="dropdown-item"><h4>
          Interviews FrontEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Interview/FrontEnd/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Interview/FrontEnd/Css3/" class="nav-link">
  CSS
</a></li></ul></li><li class="dropdown-item"><h4>
          Interviews Backend
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Interview/BackEnd/Golang/" class="nav-link">
  GoLang
</a></li><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Interview/BackEnd/Python/" class="nav-link">
  Python
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About Me" class="dropdown-title"><span class="title">About Me</span> <span class="arrow down"></span></button> <button type="button" aria-label="About Me" class="mobile-dropdown-title"><span class="title">About Me</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          My Teaching Videos
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://space.bilibili.com/309430466/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bilibili
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Souce Codes
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/PythonWongXb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub(GayHub) - Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frames" class="dropdown-title"><span class="title">Frames</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frames" class="mobile-dropdown-title"><span class="title">Frames</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          FrontEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Frames/Vue3/" class="nav-link">
  Vue3
</a></li></ul></li><li class="dropdown-item"><h4>
          BackEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Frames/Nodejs/" class="nav-link">
  nodejs
</a></li></ul></li><li class="dropdown-item"><h4>
          Projects
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Frames/VenueOnlineManageSystem/" class="nav-link">
  VenueOnlineManageSystem
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Code Languages" class="dropdown-title"><span class="title">Code Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Code Languages" class="mobile-dropdown-title"><span class="title">Code Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          FrontEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/blog/TypeScript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/blog/language/Css3/" class="nav-link">
  Css3
</a></li><li class="dropdown-subitem"><a href="/blog/language/Html5/" class="nav-link">
  Html5
</a></li></ul></li><li class="dropdown-item"><h4>
          BackEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Python/" class="nav-link">
  Python
</a></li><li class="dropdown-subitem"><a href="/blog/Golang/" class="nav-link">
  Golang
</a></li><li class="dropdown-subitem"><a href="/blog/Java/" class="nav-link">
  Java
</a></li></ul></li><li class="dropdown-item"><h4>
          Others
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Vim/" class="nav-link">
  Vim
</a></li><li class="dropdown-subitem"><a href="/blog/Linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-subitem"><a href="/blog/MarkDown/" class="nav-link">
  MarkDown
</a></li><li class="dropdown-subitem"><a href="/blog/Shell/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Shell
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Personal Style" class="dropdown-title"><span class="title">Personal Style</span> <span class="arrow down"></span></button> <button type="button" aria-label="Personal Style" class="mobile-dropdown-title"><span class="title">Personal Style</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          About Code Quality
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Code/BadCodes/" class="nav-link">
  Bad Codes
</a></li><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Code/NiceCodes/" class="nav-link">
  Nice Codes
</a></li><li class="dropdown-subitem"><a href="/blog/PersonalStyle/CodingInfo/" class="nav-link">
  Coding Info
</a></li></ul></li><li class="dropdown-item"><h4>
          Interviews FrontEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Interview/FrontEnd/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Interview/FrontEnd/Css3/" class="nav-link">
  CSS
</a></li></ul></li><li class="dropdown-item"><h4>
          Interviews Backend
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Interview/BackEnd/Golang/" class="nav-link">
  GoLang
</a></li><li class="dropdown-subitem"><a href="/blog/PersonalStyle/Interview/BackEnd/Python/" class="nav-link">
  Python
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="About Me" class="dropdown-title"><span class="title">About Me</span> <span class="arrow down"></span></button> <button type="button" aria-label="About Me" class="mobile-dropdown-title"><span class="title">About Me</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          My Teaching Videos
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://space.bilibili.com/309430466/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bilibili
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>
          Souce Codes
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/PythonWongXb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub(GayHub) - Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Frames" class="dropdown-title"><span class="title">Frames</span> <span class="arrow down"></span></button> <button type="button" aria-label="Frames" class="mobile-dropdown-title"><span class="title">Frames</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          FrontEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Frames/Vue3/" class="nav-link">
  Vue3
</a></li></ul></li><li class="dropdown-item"><h4>
          BackEnd
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Frames/Nodejs/" class="nav-link">
  nodejs
</a></li></ul></li><li class="dropdown-item"><h4>
          Projects
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/Frames/VenueOnlineManageSystem/" class="nav-link">
  VenueOnlineManageSystem
</a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Shell</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/Shell/#_1-变量" class="sidebar-link">1-变量</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#使用变量" class="sidebar-link">使用变量</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#只读变量" class="sidebar-link">只读变量</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#删除变量" class="sidebar-link">删除变量</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#变量类型" class="sidebar-link">变量类型</a></li></ul></li><li><a href="/blog/Shell/#_2-shell-字符串" class="sidebar-link">2-Shell 字符串</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#获取字符串长度" class="sidebar-link">获取字符串长度</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#提取子字符串" class="sidebar-link">提取子字符串</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#查找子字符串" class="sidebar-link">查找子字符串</a></li></ul></li><li><a href="/blog/Shell/#_3-shell数组" class="sidebar-link">3-Shell数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#定义数组" class="sidebar-link">定义数组</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#读取数组" class="sidebar-link">读取数组</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#获取数组的长度" class="sidebar-link">获取数组的长度</a></li></ul></li><li><a href="/blog/Shell/#_4-shell-注释" class="sidebar-link">4-Shell 注释</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#单行注释" class="sidebar-link">单行注释</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#多行注释" class="sidebar-link">多行注释</a></li></ul></li><li><a href="/blog/Shell/#_5-传递参数" class="sidebar-link">5-传递参数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#参数处理字符" class="sidebar-link">参数处理字符</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#tips" class="sidebar-link">tips</a></li></ul></li><li><a href="/blog/Shell/#_6-基本运算符" class="sidebar-link">6-基本运算符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#管道运算符" class="sidebar-link">管道运算符</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#算数运算符" class="sidebar-link">算数运算符</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#关系运算符" class="sidebar-link">关系运算符</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#布尔运算符" class="sidebar-link">布尔运算符</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#逻辑运算符" class="sidebar-link">逻辑运算符</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#字符串运算符" class="sidebar-link">字符串运算符</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#文件测试运算符" class="sidebar-link">文件测试运算符</a></li></ul></li><li><a href="/blog/Shell/#_7-echo命令" class="sidebar-link">7-echo命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#显示转义字符" class="sidebar-link">显示转义字符</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#显示变量" class="sidebar-link">显示变量</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#显示换行" class="sidebar-link">显示换行</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#显示不换行" class="sidebar-link">显示不换行</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#显示结果定向至文件" class="sidebar-link">显示结果定向至文件</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#原样输出字符串-不进行转义或取变量-用单引号" class="sidebar-link">原样输出字符串，不进行转义或取变量(用单引号)</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#显示命令执行结果" class="sidebar-link">显示命令执行结果</a></li></ul></li><li><a href="/blog/Shell/#_8-printf-命令" class="sidebar-link">8-printf 命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#printf-的转义序列" class="sidebar-link">printf 的转义序列</a></li></ul></li><li><a href="/blog/Shell/#_9-test-命令" class="sidebar-link">9-test 命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#数值检测" class="sidebar-link">数值检测</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#字符串测试" class="sidebar-link">字符串测试</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#文件测试" class="sidebar-link">文件测试</a></li></ul></li><li><a href="/blog/Shell/#_10-if-流程控制" class="sidebar-link">10-if-流程控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#if" class="sidebar-link">if</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#if-else" class="sidebar-link">if-else</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#if-elif-else" class="sidebar-link">if-elif-else</a></li></ul></li><li><a href="/blog/Shell/#_11-for-循环-流程控制" class="sidebar-link">11-for-循环-流程控制</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/Shell/#_12-while-循环-流程控制" class="sidebar-link">12-while-循环-流程控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#无限循环" class="sidebar-link">无限循环</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#util循环" class="sidebar-link">util循环</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#case-esac" class="sidebar-link">case-esac</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#跳出循环" class="sidebar-link">跳出循环</a></li></ul></li><li><a href="/blog/Shell/#_13-函数" class="sidebar-link">13-函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Shell/#基本用法" class="sidebar-link">基本用法</a></li><li class="sidebar-sub-header"><a href="/blog/Shell/#函数参数" class="sidebar-link">函数参数</a></li></ul></li><li><a href="/blog/Shell/#练习题目" class="sidebar-link">练习题目</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="shell"><a href="#shell" class="header-anchor">#</a> Shell</h1> <p>hello world</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello World !&quot;</span>
</code></pre></div><p>#! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。</p> <ol><li>作为可执行程序</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">chmod</span> +x ./test.sh  <span class="token comment">#使脚本具有执行权限</span>
./test.sh  <span class="token comment">#执行脚本</span>
</code></pre></div><p>注意，一定要写成 ./test.sh，而不是 test.sh，运行其它二进制的程序也一样，直接写 test.sh，linux 系统会去 PATH 里寻找有没有叫 test.sh 的，而只有 /bin, /sbin, /usr/bin，/usr/sbin 等在 PATH 里，你的当前目录通常不在 PATH 里，所以写成 test.sh 是会找不到命令的，要用 ./test.sh 告诉系统说，就在当前目录找。</p> <ol start="2"><li>作为解释器参数</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>/bin/sh test.sh
</code></pre></div><h2 id="_1-变量"><a href="#_1-变量" class="header-anchor">#</a> 1-变量</h2> <ul><li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li> <li>中间不能有空格，可以使用下划线（_）。</li> <li>不能使用标点符号。</li> <li>不能使用bash里的关键字（可用help命令查看保留关键字）</li></ul> <h3 id="使用变量"><a href="#使用变量" class="header-anchor">#</a> 使用变量</h3> <p>使用一个定义过的变量，只要在变量名前面加美元符号即可，如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;qinjx&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$your_name</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${your_name}</span>
</code></pre></div><p>变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界，比如下面这种情况：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">skill</span> <span class="token keyword">in</span> Ada Coffe Action Java<span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;I am good at <span class="token variable">${skill}</span>Script&quot;</span>
<span class="token keyword">done</span>
</code></pre></div><p>如果不给skill变量加花括号，写成echo &quot;I am good at $skillScript&quot;，解释器就会把$skillScript当成一个变量（其值为空），代码执行结果就不是我们期望的样子了。</p> <p>推荐给所有变量加上花括号，这是个好的编程习惯。</p> <h3 id="只读变量"><a href="#只读变量" class="header-anchor">#</a> 只读变量</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">&quot;https://www.google.com&quot;</span>
<span class="token builtin class-name">readonly</span> myUrl
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">&quot;https://www.runoob.com&quot;</span>
</code></pre></div><h3 id="删除变量"><a href="#删除变量" class="header-anchor">#</a> 删除变量</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">unset</span> variable_name
</code></pre></div><h3 id="变量类型"><a href="#变量类型" class="header-anchor">#</a> 变量类型</h3> <p>运行shell时，会同时存在三种变量：</p> <ol><li>局部变量 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</li> <li>环境变量 所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</li> <li>shell变量 shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</li></ol> <h2 id="_2-shell-字符串"><a href="#_2-shell-字符串" class="header-anchor">#</a> 2-Shell 字符串</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">&quot;runoob&quot;</span>
<span class="token comment"># 使用双引号拼接</span>
<span class="token assign-left variable">greeting</span><span class="token operator">=</span><span class="token string">&quot;hello, &quot;</span><span class="token variable">$your_name</span><span class="token string">&quot; !&quot;</span>
<span class="token assign-left variable">greeting_1</span><span class="token operator">=</span><span class="token string">&quot;hello, <span class="token variable">${your_name}</span> !&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting</span>  <span class="token variable">$greeting_1</span>
<span class="token comment"># 使用单引号拼接</span>
<span class="token assign-left variable">greeting_2</span><span class="token operator">=</span><span class="token string">'hello, '</span><span class="token variable">$your_name</span><span class="token string">' !'</span>
<span class="token assign-left variable">greeting_3</span><span class="token operator">=</span><span class="token string">'hello, <span class="token variable">${your_name}</span> !'</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting_2</span>  <span class="token variable">$greeting_3</span>

<span class="token comment"># 结果</span>
hello, runoob <span class="token operator">!</span> hello, runoob <span class="token operator">!</span>
hello, runoob <span class="token operator">!</span> hello, <span class="token variable">${your_name}</span> <span class="token operator">!</span>
</code></pre></div><h3 id="获取字符串长度"><a href="#获取字符串长度" class="header-anchor">#</a> 获取字符串长度</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;abcd&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${<span class="token operator">#</span>string}</span> <span class="token comment">#输出 4</span>
</code></pre></div><h3 id="提取子字符串"><a href="#提取子字符串" class="header-anchor">#</a> 提取子字符串</h3> <p>以下实例从字符串第 2 个字符开始截取 4 个字符：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;runoob is a great site&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${string<span class="token operator">:</span>1<span class="token operator">:</span>4}</span> <span class="token comment"># 输出 unoo</span>
</code></pre></div><h3 id="查找子字符串"><a href="#查找子字符串" class="header-anchor">#</a> 查找子字符串</h3> <p>查找字符 i 或 o 的位置(哪个字母先出现就计算哪个)：</p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>错误示例，测试失败</p></div> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">&quot;runoob is a great site&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> index <span class="token string">&quot;<span class="token variable">$string</span>&quot;</span> io<span class="token variable">`</span></span>  <span class="token comment"># 输出 4</span>
</code></pre></div><h2 id="_3-shell数组"><a href="#_3-shell数组" class="header-anchor">#</a> 3-Shell数组</h2> <p>bash支持一维数组（不支持多维数组），并且没有限定数组的大小。</p> <h3 id="定义数组"><a href="#定义数组" class="header-anchor">#</a> 定义数组</h3> <p>在 Shell 中，用括号来表示数组，数组元素用&quot;空格&quot;符号分割开。定义数组的一般形式为：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>数组名<span class="token operator">=</span><span class="token punctuation">(</span>值1 值2 <span class="token punctuation">..</span>. 值n<span class="token punctuation">)</span>

<span class="token comment"># demo</span>
<span class="token assign-left variable">array_name</span><span class="token operator">=</span><span class="token punctuation">(</span>value0 value1 value2 value3<span class="token punctuation">)</span>

<span class="token assign-left variable">array_name</span><span class="token operator">=</span><span class="token punctuation">(</span>
value0
value1
value2
value3
<span class="token punctuation">)</span>

<span class="token comment"># 可以不使用连续的下标，而且下标的范围没有限制。</span>
array_name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>value0
array_name<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>value1
array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">=</span>valuen
</code></pre></div><h3 id="读取数组"><a href="#读取数组" class="header-anchor">#</a> 读取数组</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 读取数组元素值的一般格式是：</span>
<span class="token variable">${数组名<span class="token punctuation">[</span>下标<span class="token punctuation">]</span>}</span>

<span class="token assign-left variable">valuen</span><span class="token operator">=</span><span class="token variable">${array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span>}</span>

<span class="token comment"># 使用 @ 符号可以获取数组中的所有元素，例如：</span>
<span class="token builtin class-name">echo</span> <span class="token variable">${array_name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
</code></pre></div><h3 id="获取数组的长度"><a href="#获取数组的长度" class="header-anchor">#</a> 获取数组的长度</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 取得数组元素的个数</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>array_name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>
<span class="token comment"># 或者</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>array_name<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>
<span class="token comment"># 取得数组单个元素的长度</span>
<span class="token assign-left variable">lengthn</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span>}</span>
</code></pre></div><h2 id="_4-shell-注释"><a href="#_4-shell-注释" class="header-anchor">#</a> 4-Shell 注释</h2> <h3 id="单行注释"><a href="#单行注释" class="header-anchor">#</a> 单行注释</h3> <p>以 # 开头的行就是注释，会被解释器忽略。
通过每一行加一个 # 号设置多行注释，像这样：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#--------------------------------------------</span>
<span class="token comment"># 这是一个注释</span>
<span class="token comment"># author：菜鸟教程</span>
<span class="token comment"># site：www.runoob.com</span>
<span class="token comment"># slogan：学的不仅是技术，更是梦想！</span>
<span class="token comment">#--------------------------------------------</span>
<span class="token comment">##### 用户配置区 开始 #####</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token comment"># 这里可以添加脚本描述信息</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token comment">##### 用户配置区 结束  #####</span>
</code></pre></div><h3 id="多行注释"><a href="#多行注释" class="header-anchor">#</a> 多行注释</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 多行注释还可以使用以下格式：</span>
:<span class="token operator">&lt;&lt;</span><span class="token string">EOF
注释内容...
注释内容...
注释内容...
EOF</span>

<span class="token comment"># EOF 也可以使用其他符号:</span>
:<span class="token operator">&lt;&lt;</span><span class="token string">'
注释内容...
注释内容...
注释内容...
'</span>

:<span class="token operator">&lt;&lt;</span><span class="token operator">!</span>
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
<span class="token operator">!</span>
</code></pre></div><h2 id="_5-传递参数"><a href="#_5-传递参数" class="header-anchor">#</a> 5-传递参数</h2> <p>我们可以在执行 Shell 脚本时，向脚本传递参数，脚本内获取参数的格式为：$n。n 代表一个数字，1 为执行脚本的第一个参数，2 为执行脚本的第二个参数，以此类推……</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Shell 传递参数实例！&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;执行的文件名：<span class="token variable">$0</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个参数为：<span class="token variable">$1</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第二个参数为：<span class="token variable">$2</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第三个参数为：<span class="token variable">$3</span>&quot;</span><span class="token punctuation">;</span>

<span class="token comment"># result</span>
$ <span class="token function">chmod</span> +x test.sh
$ ./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
Shell 传递参数实例！
执行的文件名：./test.sh
第一个参数为：1
第二个参数为：2
第三个参数为：3
</code></pre></div><h3 id="参数处理字符"><a href="#参数处理字符" class="header-anchor">#</a> 参数处理字符</h3> <table><thead><tr><th>表头</th> <th>表头</th></tr></thead> <tbody><tr><td>$#</td> <td>传递到脚本的参数个数</td></tr> <tr><td>$*</td> <td>以一个单字符串显示所有向脚本传递的参数。如&quot;$*&quot;用「&quot;」括起来的情况、以&quot;$1 $2 … $n&quot;的形式输出所有参数。</td></tr> <tr><td>$$</td> <td>脚本运行的当前进程ID号</td></tr> <tr><td>$!</td> <td>后台运行的最后一个进程的ID号</td></tr> <tr><td>$@</td> <td>与$*相同，但是使用时加引号，并在引号中返回每个参数。如&quot;$@&quot;用「&quot;」括起来的情况、以&quot;$1&quot; &quot;$2&quot; … &quot;$n&quot; 的形式输出所有参数。</td></tr> <tr><td>$-</td> <td>显示Shell使用的当前选项，与set命令功能相同。</td></tr> <tr><td>$?</td> <td>显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Shell 传递参数实例！&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个参数为：<span class="token variable">$1</span>&quot;</span><span class="token punctuation">;</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;参数个数为：<span class="token variable">$#</span>&quot;</span><span class="token punctuation">;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;传递的参数作为一个字符串显示：<span class="token variable">$*</span>&quot;</span><span class="token punctuation">;</span>

<span class="token comment"># result</span>
$ <span class="token function">chmod</span> +x test.sh
$ ./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
Shell 传递参数实例！
第一个参数为：1
参数个数为：3
传递的参数作为一个字符串显示：1 <span class="token number">2</span> <span class="token number">3</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>$* 与 $@ 区别：</p> <ul><li>相同点：都是引用所有参数。</li> <li>不同点：只有在双引号中体现出来。假设在脚本运行时写了三个参数 1、2、3，，则 &quot; * &quot; 等价于 &quot;1 2 3&quot;（传递了一个参数），而 &quot;@&quot; 等价于 &quot;1&quot; &quot;2&quot; &quot;3&quot;（传递了三个参数）。</li></ul></div> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-- \<span class="token variable">$*</span> 演示 ---&quot;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$*</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;-- \<span class="token variable">$@</span> 演示 ---&quot;</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$i</span>
<span class="token keyword">done</span>

<span class="token comment"># result</span>
$ <span class="token function">chmod</span> +x test.sh
$ ./test.sh <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
-- <span class="token variable">$*</span> 演示 ---
<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span>
-- <span class="token variable">$@</span> 演示 ---
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
</code></pre></div><h3 id="tips"><a href="#tips" class="header-anchor">#</a> tips</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><p>在为shell脚本传递的参数中如果包含空格，应该使用单引号或者双引号将该参数括起来，以便于脚本将这个参数作为整体来接收。</p></li> <li><p>在有参数时，可以使用对参数进行校验的方式处理以减少错误发生：</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;包含第一个参数&quot;</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有包含第一参数&quot;</span>
<span class="token keyword">fi</span>
<span class="token comment"># 注意：中括号 [] 与其中间的代码应该有空格隔开</span>
</code></pre></div></div> <p>Shell 里面的中括号（包括单中括号与双中括号）可用于一些条件的测试：</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>算术比较, 比如一个变量是否为0, [ $var -eq 0 ]。</li> <li>文件属性测试，比如一个文件是否存在，[ -e $var ], 是否是目录，[ -d $var ]。</li> <li>字符串比较, 比如两个字符串是否相同， [[ $var1 = $var2 ]]。</li> <li>[] 常常可以使用 test 命令来代替，具体可参看：Shell 中的中括号用法总结。</li></ul></div> <h2 id="_6-基本运算符"><a href="#_6-基本运算符" class="header-anchor">#</a> 6-基本运算符</h2> <ul><li>管道运算符号</li> <li>算数运算符</li> <li>关系运算符</li> <li>布尔运算符</li> <li>字符串运算符</li> <li>文件测试运算符</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。</p> <p>expr 是一款表达式计算工具，使用它能完成表达式的求值操作。</p></div> <h3 id="管道运算符"><a href="#管道运算符" class="header-anchor">#</a> 管道运算符</h3> <p>管道实际上就是进程之间的一个通信工具，那么用在Linux命令中主要是方便两条命令互相之间可以相互通信。</p> <p>管道符
管道符（匿名管道）是Shell编程经常用到的通信工具。</p> <p>管道符是&quot;|&quot;，主要是把两个应用程序连接在一起，然后把第一个应用程序的输出，作为第二个应用程序的输入。如果还有第三个应用程序的话，可以把第二个程序的输出，作为第三个应用程序的输入，以此类推。</p> <p>如ls | grep test.sh，在当前文件过滤出test.sh文件：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@lincoding /<span class="token punctuation">]</span><span class="token comment"># ls</span>
bin   data  etc   lib    lost+found  net   opt   root  selinux  sys    usr
boot  dev   home  lib64  media       mnt   proc  sbin  srv   test.sh   tmp
<span class="token punctuation">[</span>root@lincoding /<span class="token punctuation">]</span><span class="token comment"># ls | grep test.sh</span>
test.sh
</code></pre></div><h3 id="算数运算符"><a href="#算数运算符" class="header-anchor">#</a> 算数运算符</h3> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>注意：条件表达式要放在方括号之间，并且要有空格，例如: [$a==$b] 是错误的，必须写成 [ $a == $b ]。</p></div> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a + b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a - $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a - b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a <span class="token punctuation">\</span>* $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;a * b : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $b / $a<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;b / a : <span class="token variable">$val</span>&quot;</span>

<span class="token assign-left variable">val</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $b % $a<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;b % a : <span class="token variable">$val</span>&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 不等于 b&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
a + b <span class="token builtin class-name">:</span> <span class="token number">30</span>
a - b <span class="token builtin class-name">:</span> -10
a * b <span class="token builtin class-name">:</span> <span class="token number">200</span>
b / a <span class="token builtin class-name">:</span> <span class="token number">2</span>
b % a <span class="token builtin class-name">:</span> <span class="token number">0</span>
a 不等于 b
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li>乘号(*)前边必须加反斜杠()才能实现乘法运算；</li> <li>if...then...fi 是条件语句，后续将会讲解。</li> <li>在 MAC 中 shell 的 expr 语法是：$((表达式))，此处表达式中的 &quot;*&quot; 不需要转义符号 &quot;&quot; 。</li></ul></div> <h3 id="关系运算符"><a href="#关系运算符" class="header-anchor">#</a> 关系运算符</h3> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>-eq</td> <td>检测两个数是否相等，相等返回 true。</td> <td>[ $a -eq $b ] 返回 false。</td></tr> <tr><td>-ne</td> <td>检测两个数是否不相等，不相等返回 true。</td> <td>[ $a -ne $b ] 返回 true。</td></tr> <tr><td>-gt</td> <td>检测左边的数是否大于右边的，如果是，则返回 true。</td> <td>[ $a -gt $b ] 返回 false。</td></tr> <tr><td>-lt</td> <td>检测左边的数是否小于右边的，如果是，则返回 true。</td> <td>[ $a -lt $b ] 返回 true。</td></tr> <tr><td></td> <td>-ge</td> <td>检测左边的数是否大于等于右边的，如果是，则返回 true。</td></tr> <tr><td>-le</td> <td>检测左边的数是否小于等于右边的，如果是，则返回 true。</td> <td>[ $a -le $b ] 返回 true。</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -eq <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -eq <span class="token variable">$b</span> : a 等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -eq <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -ne <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ne <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ne <span class="token variable">$b</span> : a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -gt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -gt <span class="token variable">$b</span>: a 大于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -gt <span class="token variable">$b</span>: a 不大于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -lt <span class="token variable">$b</span>: a 小于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -lt <span class="token variable">$b</span>: a 不小于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -ge <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ge <span class="token variable">$b</span>: a 大于或等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -ge <span class="token variable">$b</span>: a 小于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -le <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -le <span class="token variable">$b</span>: a 小于或等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> -le <span class="token variable">$b</span>: a 大于 b&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
<span class="token number">10</span> -eq <span class="token number">20</span>: a 不等于 b
<span class="token number">10</span> -ne <span class="token number">20</span>: a 不等于 b
<span class="token number">10</span> -gt <span class="token number">20</span>: a 不大于 b
<span class="token number">10</span> -lt <span class="token number">20</span>: a 小于 b
<span class="token number">10</span> -ge <span class="token number">20</span>: a 小于 b
<span class="token number">10</span> -le <span class="token number">20</span>: a 小于或等于 b
</code></pre></div><h3 id="布尔运算符"><a href="#布尔运算符" class="header-anchor">#</a> 布尔运算符</h3> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>!</td> <td>非运算，表达式为 true 则返回 false，否则返回 true。</td> <td>[ ! false ] 返回 true。</td></tr> <tr><td>-o</td> <td>或运算，有一个表达式为 true 则返回 true。</td> <td>[ $a -lt 20 -o $b -gt 100 ] 返回 true。</td></tr> <tr><td>-a</td> <td>与运算，两个表达式都为 true 才返回 true。</td> <td>[ $a -lt 20 -a $b -gt 100 ] 返回 false。</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span> : a 不等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> == <span class="token variable">$b</span>: a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> -a <span class="token variable">$b</span> -gt <span class="token number">15</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 且 <span class="token variable">$b</span> 大于 15 : 返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 且 <span class="token variable">$b</span> 大于 15 : 返回 false&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> -o <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 或 <span class="token variable">$b</span> 大于 100 : 返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 100 或 <span class="token variable">$b</span> 大于 100 : 返回 false&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">5</span> -o <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 5 或 <span class="token variable">$b</span> 大于 100 : 返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> 小于 5 或 <span class="token variable">$b</span> 大于 100 : 返回 false&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
<span class="token number">10</span> <span class="token operator">!=</span> <span class="token number">20</span> <span class="token builtin class-name">:</span> a 不等于 b
<span class="token number">10</span> 小于 <span class="token number">100</span> 且 <span class="token number">20</span> 大于 <span class="token number">15</span> <span class="token builtin class-name">:</span> 返回 <span class="token boolean">true</span>
<span class="token number">10</span> 小于 <span class="token number">100</span> 或 <span class="token number">20</span> 大于 <span class="token number">100</span> <span class="token builtin class-name">:</span> 返回 <span class="token boolean">true</span>
<span class="token number">10</span> 小于 <span class="token number">5</span> 或 <span class="token number">20</span> 大于 <span class="token number">100</span> <span class="token builtin class-name">:</span> 返回 <span class="token boolean">false</span>
</code></pre></div><h3 id="逻辑运算符"><a href="#逻辑运算符" class="header-anchor">#</a> 逻辑运算符</h3> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>&amp;&amp;</td> <td>逻辑的 AND</td> <td>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]] 返回 false</td></tr> <tr><td>||</td> <td>逻辑的 OR</td> <td>[[ $a -lt 100</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 false&quot;</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token number">100</span> <span class="token operator">||</span> <span class="token variable">$b</span> -gt <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 true&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;返回 false&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
返回 <span class="token boolean">false</span>
返回 <span class="token boolean">true</span>
</code></pre></div><h3 id="字符串运算符"><a href="#字符串运算符" class="header-anchor">#</a> 字符串运算符</h3> <p>下表列出了常用的字符串运算符，假定变量 a 为 &quot;abc&quot;，变量 b 为 &quot;efg&quot;：</p> <table><thead><tr><th>运算符</th> <th>说明</th> <th>举例</th></tr></thead> <tbody><tr><td>=</td> <td>检测两个字符串是否相等，相等返回 true。</td> <td>[ $a = $b ] 返回 false。</td></tr> <tr><td>!=</td> <td>检测两个字符串是否不相等，不相等返回 true。</td> <td>[ $a != $b ] 返回 true。</td></tr> <tr><td>-z</td> <td>检测字符串长度是否为0，为0返回 true。</td> <td>[ -z $a ] 返回 false。</td></tr> <tr><td>-n</td> <td>检测字符串长度是否不为 0，不为 0 返回 true。</td> <td>[ -n &quot;$a&quot; ] 返回 true。</td></tr> <tr><td>$</td> <td>检测字符串是否为空，不为空返回 true。</td> <td>[ $a ] 返回 true。</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">&quot;abc&quot;</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token string">&quot;efg&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> = <span class="token variable">$b</span> : a 等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> = <span class="token variable">$b</span>: a 不等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span> : a 不等于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> != <span class="token variable">$b</span>: a 等于 b&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -z <span class="token variable">$a</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-z <span class="token variable">$a</span> : 字符串长度为 0&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-z <span class="token variable">$a</span> : 字符串长度不为 0&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -n <span class="token string">&quot;<span class="token variable">$a</span>&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-n <span class="token variable">$a</span> : 字符串长度不为 0&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;-n <span class="token variable">$a</span> : 字符串长度为 0&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> : 字符串不为空&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$a</span> : 字符串为空&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
abc <span class="token operator">=</span> efg: a 不等于 b
abc <span class="token operator">!=</span> efg <span class="token builtin class-name">:</span> a 不等于 b
-z abc <span class="token builtin class-name">:</span> 字符串长度不为 <span class="token number">0</span>
-n abc <span class="token builtin class-name">:</span> 字符串长度不为 <span class="token number">0</span>
abc <span class="token builtin class-name">:</span> 字符串不为空
</code></pre></div><h3 id="文件测试运算符"><a href="#文件测试运算符" class="header-anchor">#</a> 文件测试运算符</h3> <p>文件测试运算符用于检测 Unix 文件的各种属性。</p> <p>变量 file 表示文件 /var/www/runoob/test.sh，它的大小为 100 字节，具有 rwx 权限。下面的代码，将检测该文件的各种属性：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token string">&quot;/var/www/runoob/test.sh&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -r <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可读&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可读&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -w <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可写&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可写&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -x <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件可执行&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不可执行&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -f <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为普通文件&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为特殊文件&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -d <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件是个目录&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不是个目录&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -s <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不为空&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件为空&quot;</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -e <span class="token variable">$file</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件存在&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件不存在&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
文件可读
文件可写
文件可执行
文件为普通文件
文件不是个目录
文件不为空
文件存在
</code></pre></div><h2 id="_7-echo命令"><a href="#_7-echo命令" class="header-anchor">#</a> 7-echo命令</h2> <p>Shell 的 echo 指令与 PHP 的 echo 指令类似，都是用于字符串的输出。命令格式：
echo string
可以使用echo实现更复杂的输出格式控制。</p> <h3 id="显示转义字符"><a href="#显示转义字符" class="header-anchor">#</a> 显示转义字符</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token entity" title="\&quot;">\&quot;</span>It is a test<span class="token entity" title="\&quot;">\&quot;</span>&quot;</span>

<span class="token comment"># result</span>
<span class="token string">&quot;It is a test&quot;</span>`
</code></pre></div><h3 id="显示变量"><a href="#显示变量" class="header-anchor">#</a> 显示变量</h3> <p>read 命令从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">read</span> name
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$name</span> It is a test&quot;</span>

<span class="token punctuation">[</span>root@www ~<span class="token punctuation">]</span><span class="token comment"># sh test.sh</span>
OK                     <span class="token comment">#标准输入</span>
OK It is a <span class="token builtin class-name">test</span>        <span class="token comment">#输出</span>
</code></pre></div><h3 id="显示换行"><a href="#显示换行" class="header-anchor">#</a> 显示换行</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> -e <span class="token string">&quot;OK! <span class="token entity" title="\n">\n</span>&quot;</span> <span class="token comment"># -e 开启转义</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span>

<span class="token comment"># result</span>
OK<span class="token operator">!</span>

It is a <span class="token builtin class-name">test</span>
</code></pre></div><h3 id="显示不换行"><a href="#显示不换行" class="header-anchor">#</a> 显示不换行</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">echo</span> -e <span class="token string">&quot;OK! <span class="token entity" title="\c">\c</span>&quot;</span> <span class="token comment"># -e 开启转义 \c 不换行</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span>

<span class="token comment"># result</span>
OK<span class="token operator">!</span> It is a <span class="token builtin class-name">test</span>
</code></pre></div><h3 id="显示结果定向至文件"><a href="#显示结果定向至文件" class="header-anchor">#</a> 显示结果定向至文件</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;It is a test&quot;</span> <span class="token operator">&gt;</span> myfile
</code></pre></div><h3 id="原样输出字符串-不进行转义或取变量-用单引号"><a href="#原样输出字符串-不进行转义或取变量-用单引号" class="header-anchor">#</a> 原样输出字符串，不进行转义或取变量(用单引号)</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'<span class="token variable">$name</span><span class="token entity" title="\&quot;">\&quot;</span>'</span>

<span class="token comment"># result</span>
<span class="token variable">$name</span><span class="token punctuation">\</span>&quot;
</code></pre></div><h3 id="显示命令执行结果"><a href="#显示命令执行结果" class="header-anchor">#</a> 显示命令执行结果</h3> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注意： 这里使用的是反引号 `, 而不是单引号 '。</p> <p>结果将显示当前日期</p></div> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>

<span class="token comment"># result</span>
Thu Jul <span class="token number">24</span> <span class="token number">10</span>:08:46 CST <span class="token number">2014</span>
</code></pre></div><h2 id="_8-printf-命令"><a href="#_8-printf-命令" class="header-anchor">#</a> 8-printf 命令</h2> <p>上一章节我们学习了 Shell 的 echo 命令，本章节我们来学习 Shell 的另一个输出命令 printf。</p> <p>printf 命令模仿 C 程序库（library）里的 printf() 程序。</p> <p>printf 由 POSIX 标准所定义，因此使用 printf 的脚本比使用 echo 移植性好。</p> <p>printf 使用引用文本或空格分隔的参数，外面可以在 printf 中使用格式化字符串，还可以制定字符串的宽度、左右对齐方式等。默认 printf 不会像 echo 自动添加换行符，我们可以手动添加 \n。</p> <p>printf 命令的语法：
<code>printf format-string [arguments...]</code>
参数说明：</p> <ul><li>format-string: 为格式控制字符串</li> <li>arguments: 为参数列表。</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello, Shell&quot;</span>
Hello, Shell
$ <span class="token builtin class-name">printf</span> <span class="token string">&quot;Hello, Shell<span class="token entity" title="\n">\n</span>&quot;</span>
Hello, Shell

<span class="token comment">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4s<span class="token entity" title="\n">\n</span>&quot;</span> 姓名 性别 体重kg
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>&quot;</span> 郭靖 男 <span class="token number">66.1234</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>&quot;</span> 杨过 男 <span class="token number">48.6543</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%-10s %-8s %-4.2f<span class="token entity" title="\n">\n</span>&quot;</span> 郭芙 女 <span class="token number">47.9876</span>

<span class="token comment"># result</span>
姓名     性别   体重kg
郭靖     男      <span class="token number">66.12</span>
杨过     男      <span class="token number">48.65</span>
郭芙     女      <span class="token number">47.99</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li><p>%s %c %d %f 都是格式替代符，％s 输出一个字符串，％d 整型输出，％c 输出一个字符，％f 输出实数，以小数形式输出。</p></li> <li><p>%-10s 指一个宽度为 10 个字符（- 表示左对齐，没有则表示右对齐），任何字符都会被显示在 10 个字符宽的字符内，如果不足则自动以空格填充，超过也会将内容全部显示出来。</p></li> <li><p>%-4.2f 指格式化为小数，其中 .2 指保留2位小数。</p></li></ul></div> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token comment"># format-string为双引号</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%d %s<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token number">1</span> <span class="token string">&quot;abc&quot;</span>

<span class="token comment"># 单引号与双引号效果一样</span>
<span class="token builtin class-name">printf</span> <span class="token string">'%d %s<span class="token entity" title="\n">\n</span>'</span> <span class="token number">1</span> <span class="token string">&quot;abc&quot;</span>

<span class="token comment"># 没有引号也可以输出</span>
<span class="token builtin class-name">printf</span> %s abcdef

<span class="token comment"># 格式只指定了一个参数，但多出的参数仍然会按照该格式输出，format-string 被重用</span>
<span class="token builtin class-name">printf</span> %s abc def

<span class="token builtin class-name">printf</span> <span class="token string">&quot;%s<span class="token entity" title="\n">\n</span>&quot;</span> abc def

<span class="token builtin class-name">printf</span> <span class="token string">&quot;%s %s %s<span class="token entity" title="\n">\n</span>&quot;</span> a b c d e f g h i j

<span class="token comment"># 如果没有 arguments，那么 %s 用NULL代替，%d 用 0 代替</span>
<span class="token builtin class-name">printf</span> <span class="token string">&quot;%s and %d <span class="token entity" title="\n">\n</span>&quot;</span>

<span class="token comment"># result</span>
<span class="token number">1</span> abc
<span class="token number">1</span> abc
abcdefabcdefabc
def
a b c
d e f
g h i
j
 and <span class="token number">0</span>
</code></pre></div><h3 id="printf-的转义序列"><a href="#printf-的转义序列" class="header-anchor">#</a> printf 的转义序列</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token builtin class-name">printf</span> <span class="token string">&quot;a string, no processing:&lt;%s&gt;<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token string">&quot;A<span class="token entity" title="\n">\n</span>B&quot;</span>
a string, no processing:<span class="token operator">&lt;</span>A<span class="token punctuation">\</span>nB<span class="token operator">&gt;</span>

$ <span class="token builtin class-name">printf</span> <span class="token string">&quot;a string, no processing:&lt;%b&gt;<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token string">&quot;A<span class="token entity" title="\n">\n</span>B&quot;</span>
a string, no processing:<span class="token operator">&lt;</span>A
B<span class="token operator">&gt;</span>

$ <span class="token builtin class-name">printf</span> <span class="token string">&quot;www.runoob.com <span class="token entity" title="\a">\a</span>&quot;</span>
www.runoob.com $
</code></pre></div><h2 id="_9-test-命令"><a href="#_9-test-命令" class="header-anchor">#</a> 9-test 命令</h2> <p>Shell中的 test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。</p> <h3 id="数值检测"><a href="#数值检测" class="header-anchor">#</a> 数值检测</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span>num1<span class="token punctuation">]</span> -eq $<span class="token punctuation">[</span>num2<span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数相等！'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数不相等！'</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
两个数相等！
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>代码中的 [] 执行基本的算数运算，如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">6</span>

<span class="token assign-left variable">result</span><span class="token operator">=</span>$<span class="token punctuation">[</span>a+b<span class="token punctuation">]</span> <span class="token comment"># 注意等号两边不能有空格</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;result 为： <span class="token variable">$result</span>&quot;</span>

<span class="token comment"># result</span>
result 为： <span class="token number">11</span>
</code></pre></div></div> <h3 id="字符串测试"><a href="#字符串测试" class="header-anchor">#</a> 字符串测试</h3> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>=</td> <td>等于则为真</td></tr> <tr><td>!=</td> <td>不相等则为真</td></tr> <tr><td>-z</td> <td>字符串	字符串的长度为零则为真</td></tr> <tr><td>-n</td> <td>字符串	字符串的长度不为零则为真</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token string">&quot;ru1noob&quot;</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token string">&quot;runoob&quot;</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> <span class="token variable">$num1</span> <span class="token operator">=</span> <span class="token variable">$num2</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个字符串相等!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个字符串不相等!'</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
两个字符串不相等<span class="token operator">!</span>
</code></pre></div><h3 id="文件测试"><a href="#文件测试" class="header-anchor">#</a> 文件测试</h3> <table><thead><tr><th>参数</th> <th>说明</th></tr></thead> <tbody><tr><td>-e 文件名</td> <td>如果文件存在则为真</td></tr> <tr><td>-r 文件名</td> <td>如果文件存在且可读则为真</td></tr> <tr><td>-w 文件名</td> <td>如果文件存在且可写则为真</td></tr> <tr><td>-x 文件名</td> <td>如果文件存在且可执行则为真</td></tr> <tr><td>-s 文件名</td> <td>如果文件存在且至少有一个字符则为真</td></tr> <tr><td>-d 文件名</td> <td>如果文件存在且为目录则为真</td></tr> <tr><td>-f 文件名</td> <td>如果文件存在且为普通文件则为真</td></tr> <tr><td>-c 文件名</td> <td>如果文件存在且为字符型特殊文件则为真</td></tr> <tr><td>-b 文件名</td> <td>如果文件存在且为块特殊文件则为真</td></tr></tbody></table> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /bin
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> -e ./bash
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'文件已存在!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'文件不存在!'</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
文件已存在<span class="token operator">!</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>另外，Shell 还提供了与( -a )、或( -o )、非( ! )三个逻辑操作符用于将测试条件连接起来，其优先级为： ! 最高， -a 次之， -o 最低。例如：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /bin
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> -e ./notFile -o -e ./bash
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'至少有一个文件存在!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
至少有一个文件存在<span class="token operator">!</span>
</code></pre></div></div> <h2 id="_10-if-流程控制"><a href="#_10-if-流程控制" class="header-anchor">#</a> 10-if-流程控制</h2> <p>和 Java、PHP 等语言不一样，sh 的流程控制不可为空，如(以下为 PHP 流程控制写法)：</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;q&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">search</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不做任何事情</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>在 sh/bash 里可不能这么写，如果 else 分支没有语句执行，就不要写这个 else。</p></div> <h3 id="if"><a href="#if" class="header-anchor">#</a> if</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">fi</span>

<span class="token comment"># shortcut</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> -c <span class="token string">&quot;ssh&quot;</span><span class="token variable">)</span></span> -gt <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">;</span> <span class="token keyword">fi</span>
</code></pre></div><h3 id="if-else"><a href="#if-else" class="header-anchor">#</a> if-else</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">else</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">fi</span>
</code></pre></div><h3 id="if-elif-else"><a href="#if-elif-else" class="header-anchor">#</a> if-elif-else</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">if</span> condition1
<span class="token keyword">then</span>
    command1
<span class="token keyword">elif</span> condition2
<span class="token keyword">then</span>
    command2
<span class="token keyword">else</span>
    commandN
<span class="token keyword">fi</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 等于 b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -gt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 大于 b&quot;</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;a 小于 b&quot;</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有符合的条件&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
a 小于 b
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>if else 语句经常与 test 命令结合使用，如下所示：</p></div> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">num1</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">2</span>*3<span class="token punctuation">]</span>
<span class="token assign-left variable">num2</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token number">1</span>+5<span class="token punctuation">]</span>
<span class="token keyword">if</span> <span class="token builtin class-name">test</span> $<span class="token punctuation">[</span>num1<span class="token punctuation">]</span> -eq $<span class="token punctuation">[</span>num2<span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数字相等!'</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">'两个数字不相等!'</span>
<span class="token keyword">fi</span>

<span class="token comment"># result</span>
两个数字相等<span class="token operator">!</span>
</code></pre></div><h2 id="_11-for-循环-流程控制"><a href="#_11-for-循环-流程控制" class="header-anchor">#</a> 11-for-循环-流程控制</h2> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN
<span class="token keyword">do</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">done</span>

<span class="token comment"># shortcut</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN<span class="token punctuation">;</span> <span class="token keyword">do</span> command1<span class="token punctuation">;</span> command2… <span class="token keyword">done</span><span class="token punctuation">;</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>可以将 do放置在for后面，与其他语言更加类似于</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>assignment<span class="token punctuation">;</span>condition<span class="token operator">:</span>next<span class="token punctuation">))</span></span><span class="token punctuation">;</span><span class="token keyword">do</span>
    command_1<span class="token punctuation">;</span>
    command_2<span class="token punctuation">;</span>
    commond_<span class="token punctuation">..</span><span class="token punctuation">;</span>
<span class="token keyword">done</span><span class="token punctuation">;</span>

<span class="token comment">#!/bin/bash</span>
<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span><span class="token punctuation">;</span><span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这是第 <span class="token variable">$i</span> 次调用&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">done</span><span class="token punctuation">;</span>

<span class="token comment"># result</span>
这是第1次调用
这是第2次调用
这是第3次调用
这是第4次调用
这是第5次调用
</code></pre></div></div> <p>当变量值在列表里，for 循环即执行一次所有命令，使用变量名获取列表中的当前取值。命令可为任何有效的 shell 命令和语句。in 列表可以包含替换、字符串和文件名。</p> <p>in列表是可选的，如果不用它，for循环使用命令行的位置参数。</p> <p>例如，顺序输出当前列表中的数字：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">for</span> <span class="token for-or-select variable">loop</span> <span class="token keyword">in</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;The value is: <span class="token variable">$loop</span>&quot;</span>
<span class="token keyword">done</span>

<span class="token comment"># result</span>
The value is: <span class="token number">1</span>
The value is: <span class="token number">2</span>
The value is: <span class="token number">3</span>
The value is: <span class="token number">4</span>
The value is: <span class="token number">5</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># 顺序输出字符串中的字符：</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">str</span> <span class="token keyword">in</span> This is a string
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$str</span>
<span class="token keyword">done</span>

<span class="token comment"># result</span>
This
is
a
string
</code></pre></div><h2 id="_12-while-循环-流程控制"><a href="#_12-while-循环-流程控制" class="header-anchor">#</a> 12-while-循环-流程控制</h2> <p>while 循环用于不断执行一系列命令，也用于从输入文件中读取数据。其语法格式为：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">while</span> condition
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><p>以下是一个基本的 while 循环，测试条件是：如果 int 小于等于 5，那么条件返回真。int 从 1 开始，每次循环处理时，int 加 1。运行上述脚本，返回数字 1 到 5，然后终止。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">int</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">while</span><span class="token variable"><span class="token punctuation">((</span> $int<span class="token operator">&lt;=</span><span class="token number">5</span> <span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token variable">$int</span>
    <span class="token builtin class-name">let</span> <span class="token string">&quot;int++&quot;</span>
<span class="token keyword">done</span>

<span class="token comment"># result</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token number">5</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>以上实例使用了 Bash let 命令，它用于执行一个或多个表达式，变量计算中不需要加上 $ 来表示变量，具体可查阅：Bash let 命令</p></div> <p>while循环可用于读取键盘信息。下面的例子中，输入信息被设置为变量FILM，按Ctrl-D结束循环。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'按下 CTRL-D 退出'</span>
<span class="token builtin class-name">echo</span> -n <span class="token string">'输入你最喜欢的网站名: '</span>
<span class="token keyword">while</span> <span class="token builtin class-name">read</span> FILM
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;是的！<span class="token variable">$FILM</span> 是一个好网站&quot;</span>
<span class="token keyword">done</span>

<span class="token comment"># result</span>
按下 CTRL-D 退出
输入你最喜欢的网站名:菜鸟教程
是的！菜鸟教程 是一个好网站
</code></pre></div><h3 id="无限循环"><a href="#无限循环" class="header-anchor">#</a> 无限循环</h3> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>

<span class="token comment"># or</span>
<span class="token keyword">while</span> <span class="token boolean">true</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>

<span class="token comment"># or</span>
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> <span class="token punctuation">;</span> <span class="token punctuation">;</span> <span class="token punctuation">))</span></span>
</code></pre></div><h3 id="util循环"><a href="#util循环" class="header-anchor">#</a> util循环</h3> <ul><li><p>until 循环执行一系列命令直至条件为 true 时停止。</p></li> <li><p>until 循环与 while 循环在处理方式上刚好相反。</p></li> <li><p>一般 while 循环优于 until 循环，但在某些时候—也只是极少数情况下，until 循环更加有用。</p></li></ul> <p>until 语法格式:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">until</span> condition
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span>
</code></pre></div><p>condition 一般为条件表达式，如果返回值为 false，则继续执行循环体内的语句，否则跳出循环。</p> <p>以下实例我们使用 until 命令来输出 0 ~ 9 的数字：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token keyword">until</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token variable">$a</span> -lt <span class="token number">10</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
   <span class="token builtin class-name">echo</span> <span class="token variable">$a</span>
   <span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + <span class="token number">1</span><span class="token variable">`</span></span>
<span class="token keyword">done</span>

<span class="token comment"># result</span>
<span class="token number">0</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token number">5</span>
<span class="token number">6</span>
<span class="token number">7</span>
<span class="token number">8</span>
<span class="token number">9</span>
</code></pre></div><h3 id="case-esac"><a href="#case-esac" class="header-anchor">#</a> case-esac</h3> <p>case ... esac 为多选择语句，与其他语言中的 switch ... case 语句类似，是一种多分枝选择结构，每个 case 分支用右圆括号开始，用两个分号 ;; 表示 break，即执行结束，跳出整个 case ... esac 语句，esac（就是 case 反过来）作为结束标记。</p> <p>可以用 case 语句匹配一个值与一个模式，如果匹配成功，执行相匹配的命令。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token keyword">case</span> 值 <span class="token keyword">in</span>
模式1<span class="token punctuation">)</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
模式2）
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ul><li>case 工作方式如上所示，取值后面必须为单词 in，每一模式必须以右括号结束。取值可以为变量或常数，匹配发现取值符合某一模式后，其间所有命令开始执行直至 ;;。</li> <li>取值将检测匹配的每一个模式。一旦模式匹配，则执行完匹配模式相应命令后不再继续其他模式。如果无一匹配模式，使用星号 * 捕获该值，再执行后面的命令。</li></ul></div> <p>下面的脚本提示输入 1 到 4，与每一种模式进行匹配：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">echo</span> <span class="token string">'输入 1 到 4 之间的数字:'</span>
<span class="token builtin class-name">echo</span> <span class="token string">'你输入的数字为:'</span>
<span class="token builtin class-name">read</span> aNum
<span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
    <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 1'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">2</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 2'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">3</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 3'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token number">4</span><span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你选择了 4'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
    *<span class="token punctuation">)</span>  <span class="token builtin class-name">echo</span> <span class="token string">'你没有输入 1 到 4 之间的数字'</span>
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>

<span class="token comment"># result</span>
输入 <span class="token number">1</span> 到 <span class="token number">4</span> 之间的数字:
你输入的数字为:
<span class="token number">3</span>
你选择了 <span class="token number">3</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/sh</span>

<span class="token assign-left variable">site</span><span class="token operator">=</span><span class="token string">&quot;runoob&quot;</span>

<span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$site</span>&quot;</span> <span class="token keyword">in</span>
   <span class="token string">&quot;runoob&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;菜鸟教程&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
   <span class="token string">&quot;google&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;Google 搜索&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
   <span class="token string">&quot;taobao&quot;</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;淘宝网&quot;</span>
   <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>

<span class="token comment"># result</span>
菜鸟教程
</code></pre></div><h3 id="跳出循环"><a href="#跳出循环" class="header-anchor">#</a> 跳出循环</h3> <p>在循环过程中，有时候需要在未达到循环结束条件时强制跳出循环，Shell使用两个命令来实现该功能：break和continue。</p> <h4 id="break命令"><a href="#break命令" class="header-anchor">#</a> break命令</h4> <p>break命令允许跳出所有循环（终止执行后面的所有循环）。</p> <p>下面的例子中，脚本进入死循环直至用户输入数字大于5。要跳出这个循环，返回到shell提示符下，需要使用break命令。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> -n <span class="token string">&quot;输入 1 到 5 之间的数字:&quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字为 <span class="token variable">$aNum</span>!&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字不是 1 到 5 之间的! 游戏结束&quot;</span>
            <span class="token builtin class-name">break</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>

<span class="token comment"># result</span>
输入 <span class="token number">1</span> 到 <span class="token number">5</span> 之间的数字:3
你输入的数字为 <span class="token number">3</span><span class="token operator">!</span>
输入 <span class="token number">1</span> 到 <span class="token number">5</span> 之间的数字:7
你输入的数字不是 <span class="token number">1</span> 到 <span class="token number">5</span> 之间的<span class="token operator">!</span> 游戏结束
</code></pre></div><h4 id="continue"><a href="#continue" class="header-anchor">#</a> continue</h4> <p>continue命令与break命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> -n <span class="token string">&quot;输入 1 到 5 之间的数字: &quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token keyword">case</span> <span class="token variable">$aNum</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token operator">|</span><span class="token number">2</span><span class="token operator">|</span><span class="token number">3</span><span class="token operator">|</span><span class="token number">4</span><span class="token operator">|</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字为 <span class="token variable">$aNum</span>!&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的数字不是 1 到 5 之间的!&quot;</span>
            <span class="token builtin class-name">continue</span>
            <span class="token builtin class-name">echo</span> <span class="token string">&quot;游戏结束&quot;</span>
        <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>运行代码发现，当输入大于5的数字时，该例中的循环不会结束，语句 echo &quot;游戏结束&quot; 永远不会被执行。</p></div> <h2 id="_13-函数"><a href="#_13-函数" class="header-anchor">#</a> 13-函数</h2> <p>linux shell 可以用户定义函数，然后在shell脚本中可以随便调用。</p> <h3 id="基本用法"><a href="#基本用法" class="header-anchor">#</a> 基本用法</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>说明：</p> <ul><li>可以带function fun() 定义，也可以直接fun() 定义,不带任何参数。</li> <li>参数返回，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。 return后跟数值n(0-255</li></ul></div> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span> <span class="token keyword">function</span> <span class="token punctuation">]</span> funname <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token punctuation">{</span>

    action<span class="token punctuation">;</span>

    <span class="token punctuation">[</span>return int<span class="token punctuation">;</span><span class="token punctuation">]</span>

<span class="token punctuation">}</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token function-name function">demoFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这是我的第一个 shell 函数!&quot;</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----函数开始执行-----&quot;</span>
demoFun
<span class="token builtin class-name">echo</span> <span class="token string">&quot;-----函数执行完毕-----&quot;</span>

<span class="token comment"># result</span>
-----函数开始执行-----
这是我的第一个 shell 函数<span class="token operator">!</span>
-----函数执行完毕-----
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>下面定义一个带有return语句的函数：</p></div> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token function-name function">funWithReturn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这个函数会对输入的两个数字进行相加运算...&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;输入第一个数字: &quot;</span>
    <span class="token builtin class-name">read</span> aNum
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;输入第二个数字: &quot;</span>
    <span class="token builtin class-name">read</span> anotherNum
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;两个数字分别为 <span class="token variable">$aNum</span> 和 <span class="token variable">$anotherNum</span> !&quot;</span>
    <span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>$aNum<span class="token operator">+</span>$anotherNum<span class="token variable">))</span></span>
<span class="token punctuation">}</span>
funWithReturn
<span class="token builtin class-name">echo</span> <span class="token string">&quot;输入的两个数字之和为 <span class="token variable">$?</span> !&quot;</span>

<span class="token comment"># result</span>
这个函数会对输入的两个数字进行相加运算<span class="token punctuation">..</span>.
输入第一个数字:
<span class="token number">1</span>
输入第二个数字:
<span class="token number">2</span>
两个数字分别为 <span class="token number">1</span> 和 <span class="token number">2</span> <span class="token operator">!</span>
输入的两个数字之和为 <span class="token number">3</span> <span class="token operator">!</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <ul><li>函数返回值在调用该函数后通过 $? 来获得。</li> <li>注意：所有函数在使用前必须定义。这意味着必须将函数放在脚本开始部分，直至shell解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可。</li></ul></div> <h3 id="函数参数"><a href="#函数参数" class="header-anchor">#</a> 函数参数</h3> <p>在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 $n 的形式来获取参数的值，例如，$1表示第一个参数，$2表示第二个参数...</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># author:菜鸟教程</span>
<span class="token comment"># url:www.runoob.com</span>

<span class="token function-name function">funWithParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第一个参数为 <span class="token variable">$1</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第二个参数为 <span class="token variable">$2</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第十个参数为 <span class="token variable">$10</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第十个参数为 <span class="token variable">${10}</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;第十一个参数为 <span class="token variable">${11}</span> !&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;参数总数有 <span class="token variable">$#</span> 个!&quot;</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;作为一个字符串输出所有参数 <span class="token variable">$*</span> !&quot;</span>
<span class="token punctuation">}</span>
funWithParam <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">34</span> <span class="token number">73</span>

<span class="token comment"># result</span>
第一个参数为 <span class="token number">1</span> <span class="token operator">!</span>
第二个参数为 <span class="token number">2</span> <span class="token operator">!</span>
第十个参数为 <span class="token number">10</span> <span class="token operator">!</span>
第十个参数为 <span class="token number">34</span> <span class="token operator">!</span>
第十一个参数为 <span class="token number">73</span> <span class="token operator">!</span>
参数总数有 <span class="token number">11</span> 个<span class="token operator">!</span>
作为一个字符串输出所有参数 <span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">6</span> <span class="token number">7</span> <span class="token number">8</span> <span class="token number">9</span> <span class="token number">34</span> <span class="token number">73</span> <span class="token operator">!</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注意，$10 不能获取第十个参数，获取第十个参数需要${10}。当n&gt;=10时，需要使用${n}来获取参数</p></div> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <ul><li><p>$? 仅对其上一条指令负责，一旦函数返回后其返回值没有立即保存入参数，那么其返回值将不再能通过 $? 获得。</p></li> <li><p>expr这个函数会在shell里面展示结果，但不是真实的return值</p></li></ul> <div class="language-shell extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token keyword">function</span> <span class="token function-name function">demoFun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;这是我的第一个 shell 函数!&quot;</span>
    <span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> <span class="token number">1</span> + <span class="token number">1</span><span class="token variable">`</span></span>
<span class="token punctuation">}</span>

demoFun1
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>

<span class="token keyword">function</span> <span class="token function-name function">demoFun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token builtin class-name">echo</span> <span class="token string">&quot;这是我的第二个 shell 函数!&quot;</span>
 <span class="token function">expr</span> <span class="token number">1</span> + <span class="token number">1</span>
<span class="token punctuation">}</span>

demoFun2
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>
demoFun1
<span class="token builtin class-name">echo</span> 在这里插入命令！
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span>

<span class="token comment"># result</span>
这是我的第一个 shell 函数<span class="token operator">!</span>
<span class="token number">2</span>
这是我的第二个 shell 函数<span class="token operator">!</span>
<span class="token number">2</span> // expr这个函数会在shell里面展示结果，但不是真实的return值
<span class="token number">0</span>
这是我的第一个 shell 函数<span class="token operator">!</span>
在这里插入命令！
<span class="token number">0</span>
</code></pre></div></div> <h2 id="练习题目"><a href="#练习题目" class="header-anchor">#</a> 练习题目</h2> <ol><li>判断/etc/inittab文件是否大于100行，如果大于，则显示”/etc/inittab is a big file.”否者显示”/etc/inittab is a small file.”</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#判断文件行数是否大于100行</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">`</span><span class="token function">wc</span> -l /etc/inittab <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$1</span>}'</span><span class="token variable">`</span></span> -gt <span class="token number">100</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;/etc/inittab is a big file.&quot;</span>
<span class="token keyword">else</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;/etc/inittab is a samll file.&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><ol start="2"><li>给定一个用户，来判断这个用户是什么用户，如果是管理员用户，则显示“该用户为管理员”，否则显示“该用户为普通用户”</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#判断用户类型`</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">id</span> -u $1<span class="token variable">`</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -eq <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;这是管理员用户&quot;</span>
<span class="token keyword">else</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;普通用户&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><ol start="3"><li>判断某个文件是否存在</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#判断文件是否存在</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -e <span class="token variable">$1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;存在&quot;</span>
<span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token keyword">else</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;不存在&quot;</span>
<span class="token keyword">fi</span>
</code></pre></div><ol start="4"><li>判断当前系统上是否有用户的默认shell程序是否为bash程序，如果有，就显示有多个这类用户，否则就显示没有这类用户；【并且显示出那些用户是bash】</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># method 1</span>

<span class="token comment">#!/bin/bash</span>
<span class="token comment">#判断用户默认shell程序类型</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">grep</span> <span class="token string">&quot;/bin/bash&quot;</span> /etc/passwd <span class="token operator">|</span> <span class="token function">wc</span> -l<span class="token variable">`</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -gt <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span><span class="token keyword">then</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;存在bash用户有 <span class="token variable">$a</span> 个&quot;</span>
<span class="token keyword">else</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;不存在&quot;</span>
<span class="token keyword">fi</span>

<span class="token comment"># method 2</span>

<span class="token comment">#！/bin/bash</span>
<span class="token comment">#判断用户的默认shell程序类型</span>
<span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">grep</span> <span class="token string">&quot;/bin/bash&quot;</span> /etc/passwd <span class="token operator">|</span> <span class="token function">wc</span> -l<span class="token variable">`</span></span>
<span class="token keyword">if</span> <span class="token function">grep</span> <span class="token string">&quot;/bin/bash&quot;</span> /etc/passwd <span class="token operator">&amp;&gt;</span> /dev/null<span class="token punctuation">;</span><span class="token keyword">then</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;存在 <span class="token variable">$sum</span> 个用户，shell程序为/bin/bash&quot;</span>
　　<span class="token function">grep</span> <span class="token string">&quot;/bin/bash&quot;</span> /etc/passwd <span class="token operator">|</span> <span class="token function">cut</span> -d: -f1
　　<span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token keyword">else</span>
　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;没有这类用户&quot;</span>
<span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>
</code></pre></div><ol start="5"><li>输入一个设备文件，输出这个设备文件的基本信息：</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#！/bin/bash</span>
<span class="token comment">#查看设备文件信息</span>
<span class="token builtin class-name">read</span> -t <span class="token number">10</span> -p <span class="token string">&quot;输入一个设备文件名：&quot;</span> devname
<span class="token punctuation">[</span> -z <span class="token variable">$devname</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token assign-left variable">devname</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">fdisk</span> -l<span class="token variable">`</span></span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> -b /dev/<span class="token variable">$devname</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
　　　　<span class="token function">fdisk</span> -l /dev/<span class="token variable">$devname</span>
　　　　<span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token keyword">else</span>
　　　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$devname</span> 不是设备文件&quot;</span>
　　　　<span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage:请输入一个设备文件，如 sda&quot;</span>
　　　　<span class="token builtin class-name">exit</span> <span class="token number">2</span>
<span class="token keyword">fi</span>
</code></pre></div><ol start="6"><li>shell编写99乘法表</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#99乘法表</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> <span class="token number">9</span><span class="token variable">`</span></span><span class="token punctuation">;</span><span class="token keyword">do</span>
　　　　<span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> <span class="token number">9</span><span class="token variable">`</span></span><span class="token punctuation">;</span><span class="token keyword">do</span>
　　　　<span class="token punctuation">[</span> <span class="token variable">$j</span> -le <span class="token variable">$i</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> -n -e <span class="token string">&quot;<span class="token variable">$i</span>*<span class="token variable">$j</span>=<span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> <span class="token punctuation">$((</span>$i*$j<span class="token punctuation">))</span><span class="token variable">`</span></span><span class="token entity" title="\t">\t</span>&quot;</span>
<span class="token keyword">done</span>
　　　　<span class="token builtin class-name">echo</span> <span class="token string">&quot; &quot;</span>
<span class="token keyword">done</span>
</code></pre></div><ol start="7"><li>统计netstat -tan类型</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">L</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">E</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">o</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">netstat</span> -tan <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;^tcp&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print <span class="token variable">$6</span>}'</span><span class="token variable">)</span></span><span class="token punctuation">;</span><span class="token keyword">do</span>
　　　　　　<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token operator">=</span> LISTEN <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
　　　　　　　　<span class="token builtin class-name">let</span> L++
　　　　　　<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token operator">=</span> ESTALISHED <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
　　　　　　　　<span class="token builtin class-name">let</span> E++
　　　　　　<span class="token keyword">else</span>
　　　　　　　　<span class="token builtin class-name">let</span> o++
<span class="token keyword">fi</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;坚挺的链接有： <span class="token variable">$L</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;其他链接有： <span class="token variable">$o</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;家里链接有： <span class="token variable">$E</span>&quot;</span>
</code></pre></div><ol start="8"><li>计算1-100内偶数的和</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#1-100内偶数的和</span>
<span class="token builtin class-name">declare</span> -i <span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">0</span>
　　　　<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">seq</span> <span class="token number">0</span> <span class="token number">2</span> <span class="token number">100</span><span class="token variable">)</span></span><span class="token punctuation">;</span><span class="token keyword">do</span>
　　　　　　<span class="token builtin class-name">let</span> <span class="token assign-left variable">sum</span><span class="token operator">+=</span><span class="token variable">$i</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;和 <span class="token variable">$sum</span>&quot;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">3/7/2021, 8:20:24 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.e43c8e17.js" defer></script><script src="/blog/assets/js/2.97f788a2.js" defer></script><script src="/blog/assets/js/98.57300d5f.js" defer></script>
  </body>
</html>
